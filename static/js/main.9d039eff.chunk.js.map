{"version":3,"sources":["Components/App/App.module.css","Components/CreateUser/CreateUser.js","Components/User/User.js","Components/UserLists/UserLists.js","Redux/defaultRedux.js","Components/RechartGraphics/RechartGraphics.js","Components/WorkingData/WorkingData.js","Api/Api.js","Components/App/App.js","Redux/store.js","index.js","Components/CreateUser/CreateUser.module.css","Components/UserLists/UserLists.module.css","Components/WorkingData/WorkingData.module.css","Components/User/User.module.css","Components/RechartGraphics/RechartGraphics.module.css"],"names":["module","exports","CreateUser","sendUserData","useForm","register","handleSubmit","dateMaxValue","Date","toISOString","split","className","styles","header","onSubmit","data","form","htmlFor","label","id","input","type","max","required","btn","User","el","li","element","dateRegister","dateActive","UserLists","users","lists","length","elem","item","map","nothing","DefaultRedux","createSlice","name","initialState","diagram","registeredUsers","realUser","reducers","getUser","state","action","payload","newUser","initialId","push","getDiagram","getRegisteredUsers","getRealUser","actions","RechartGraphics","numberDate","allUser","retention","Math","round","head","block","LineChart","width","height","margin","top","right","bottom","left","Line","dataKey","stroke","CartesianGrid","XAxis","YAxis","Tooltip","WorkingData","saveData","deleteData","dispatch","useDispatch","useSelector","default","onClick","user","i","currentData","dataRef","dataAct","setDate","getDate","console","log","val","count","reduce","key","res","Object","entries","sort","a","b","wrapper","interfaceApi","axios","create","baseURL","headers","settingApi","get","post","delete","App","React","useEffect","then","main","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9d039eff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__YXBXY\"};","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport styles from \"./CreateUser.module.css\";\nexport default function CreateUser({ sendUserData }) {\n  const { register, handleSubmit } = useForm();\n  const onSubmit = (data) => sendUserData(data);\n  const dateMaxValue = new Date().toISOString().split(\"T\")[0];\n  return (\n    <>\n      <h1 className={styles.header}>New users </h1>\n      <form onSubmit={handleSubmit(onSubmit)} className={styles.form}>\n        <label htmlFor=\"dateRegister\" className={styles.label}>\n          Date Registration:\n          <input\n            id={\"dateRegister\"}\n            className={styles.input}\n            type={\"date\"}\n            max={dateMaxValue}\n            {...register(\"dateRegister\", { required: true })}\n          />\n        </label>\n\n        <label htmlFor=\"dateActive\" className={styles.label}>\n          Date Last Activity:\n          <input\n            id={\"dateActive\"}\n            className={styles.input}\n            type={\"date\"}\n            max={dateMaxValue}\n            {...register(\"dateActive\", { required: true })}\n          />\n        </label>\n        <button className={styles.btn}>Send</button>\n      </form>\n    </>\n  );\n}\n","import React from \"react\";\nimport styles from \"./User.module.css\";\n\nexport default function User({ el }) {\n  return (\n    <>\n      <li className={styles.li}>\n        <span className={styles.element}>{el.id}</span>\n        <span className={styles.element}>{el.data.dateRegister}</span>\n        <span className={styles.element}>{el.data.dateActive}</span>\n      </li>\n    </>\n  );\n}\n","import React from \"react\";\nimport User from \"../User/User\";\nimport styles from \"./UserLists.module.css\";\n\nexport default function UserLists({ users }) {\n  return (\n    <>\n      <ul className={styles.lists}>\n        {users.length > 0 ? (\n          <>\n            <li className={styles.elem}>\n              <span className={styles.item}>ID USERS</span>\n              <span className={styles.item}>DATE REGISTRATION</span>\n              <span className={styles.item}>DATE LAST ACTIVITY</span>\n            </li>\n            {users.map((el) => {\n              return <User el={el} key={el.id} />;\n            })}\n          </>\n        ) : (\n          <>\n            <span className={styles.nothing}>\n              Missing data, please add new users\n            </span>\n          </>\n        )}\n      </ul>\n    </>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const DefaultRedux = createSlice({\n  name: \"defaultValues\",\n  initialState: {\n    users: [],\n    diagram: [],\n    registeredUsers: 0,\n    realUser: 0,\n  },\n  reducers: {\n    getUser(state, action) {\n      return {\n        ...state,\n        users: action.payload,\n      };\n    },\n    newUser(state, action) {\n      const initialId = state.users.length;\n      state.users.push({\n        id: initialId + 1,\n        data: action.payload,\n      });\n    },\n    getDiagram(state, action) {\n      return {\n        ...state,\n        diagram: action.payload,\n      };\n    },\n    getRegisteredUsers(state, action) {\n      return {\n        ...state,\n        registeredUsers: action.payload,\n      };\n    },\n    getRealUser(state, action) {\n      return {\n        ...state,\n        realUser: action.payload,\n      };\n    },\n  },\n});\n\nexport const { getUser, newUser, getDiagram, getRegisteredUsers, getRealUser } =\n  DefaultRedux.actions;\n\nexport default DefaultRedux.reducer;\n","import React from \"react\";\nimport {\n  LineChart,\n  Line,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n} from \"recharts\";\nimport styles from \"./RechartGraphics.module.css\";\n\nexport default function RechartGraphics({ data, numberDate, allUser }) {\n  let retention =\n    Math.round((allUser.realUser / allUser.registeredUsers) * 100) + \"%\";\n  return (\n    <>\n      <h2 className={styles.head}>\n        Rolling Retention {numberDate} day: {retention}{\" \"}\n      </h2>\n      <div className={styles.block}>\n        <span className={styles.el}>All users : {allUser.registeredUsers}</span>\n        <span className={styles.el}>Days count : {numberDate}</span>\n      </div>\n      <LineChart\n        width={770}\n        height={300}\n        data={data}\n        margin={{\n          top: 20,\n          right: 40,\n          bottom: 20,\n          left: 10,\n        }}\n      >\n        <Line type=\"monotone\" dataKey=\"User\" stroke=\"#8884d8\" />\n        <CartesianGrid stroke=\"#ccc\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <Tooltip />\n      </LineChart>\n    </>\n  );\n}\n","import React from \"react\";\nimport styles from \"./WorkingData.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getRegisteredUsers,\n  getDiagram,\n  getRealUser,\n} from \"../../Redux/defaultRedux\";\nimport RechartGraphics from \"../RechartGraphics/RechartGraphics\";\n\nexport default function WorkingData({ users, saveData, deleteData }) {\n  const dispatch = useDispatch();\n  const diagram = useSelector((state) => state.default.diagram);\n  const allUser = useSelector((state) => state.default);\n  let numberDate = 7;\n\n  const calculate = () => {\n    let item = [];\n    let user = [];\n    for (let i = 0; i < users.length; i++) {\n      let currentData = new Date();\n      let dataRef = new Date(users[i].data.dateRegister);\n      let dataAct = new Date(users[i].data.dateActive);\n      currentData.setDate(currentData.getDate() - numberDate);\n      if (dataAct >= currentData && dataRef >= currentData) {\n        item.push(users[i].data.dateActive);\n      } else if (dataAct < currentData && dataRef >= currentData) {\n        user.push(users[i]);\n        console.log(\"Registration date is less than current date\");\n      }\n    }\n    let val = item.length + user.length;\n    dispatch(getRegisteredUsers(val));\n    dispatch(getRealUser(item.length));\n    const count = item.reduce((key, val) => {\n      key[val] = (key[val] || 0) + 1;\n      return key;\n    }, {});\n    let res = Object.entries(count).map(([name, User]) => {\n      return {\n        name,\n        User,\n      };\n    });\n    res.sort(function (a, b) {\n      if (a.name > b.name) {\n        return 1;\n      }\n      if (a.name < b.name) {\n        return -1;\n      }\n      return 0;\n    });\n    dispatch(getDiagram(res));\n  };\n\n  return (\n    <>\n      {users.length > 0 && (\n        <>\n          <div className={styles.block}>\n            <button className={styles.btn} onClick={saveData}>\n              Save\n            </button>\n            <button className={styles.btn} onClick={calculate}>\n              Calculate\n            </button>\n            <button className={styles.btn} onClick={deleteData}>\n              Delete\n            </button>\n          </div>\n          <div className={styles.wrapper}>\n            {diagram.length > 0 && (\n              <RechartGraphics\n                data={diagram}\n                numberDate={numberDate}\n                allUser={allUser}\n              />\n            )}\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n","import axios from \"axios\";\n\nconst interfaceApi = axios.create({\n  baseURL: \"https://p1antain.api.nomoredomains.club/\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport const settingApi = {\n  getUserApi() {\n    return interfaceApi.get(\"card\");\n  },\n  postUserApi(users) {\n    return interfaceApi.post(\"card\", users);\n  },\n  deleteUserApi() {\n    return interfaceApi.delete(\"card\");\n  },\n};\n","import React from \"react\";\nimport styles from \"./App.module.css\";\nimport CreateUser from \"../CreateUser/CreateUser\";\nimport UserLists from \"../UserLists/UserLists\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getUser, newUser } from \"../../Redux/defaultRedux\";\nimport WorkingData from \"../WorkingData/WorkingData\";\nimport { settingApi } from \"../../Api/Api\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const users = useSelector((state) => state.default.users);\n  const sendUserData = (data) => {\n    dispatch(newUser(data));\n  };\n  React.useEffect(() => {\n    if (users.length <= 0) {\n      settingApi.getUserApi().then((data) => dispatch(getUser(data.data.data)));\n    }\n  }, []);\n  const saveData = () => {\n    settingApi.postUserApi(users).then(() => console.log(\"Send completed\"));\n  };\n  const deleteData = () => {\n    settingApi.deleteUserApi().then(() => {\n      console.log(\"Deletion completed\");\n    });\n  };\n  console.log(users);\n  return (\n    <>\n      <div className={styles.main}>\n        <CreateUser sendUserData={sendUserData} />\n        <UserLists users={users} />\n        <WorkingData\n          users={users}\n          saveData={saveData}\n          deleteData={deleteData}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport DefaultRedux from \"./defaultRedux\";\n\nexport const store = configureStore({\n  reducer: {\n    default: DefaultRedux,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"normalize.css\";\nimport \"./index.css\";\nimport App from \"./Components/App/App\";\nimport { store } from \"./Redux/store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"CreateUser_header__2e1wX\",\"form\":\"CreateUser_form__2bGcX\",\"label\":\"CreateUser_label__2_6rx\",\"input\":\"CreateUser_input__FcvLZ\",\"btn\":\"CreateUser_btn__itDQG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lists\":\"UserLists_lists__2xl1z\",\"elem\":\"UserLists_elem__3D4m2\",\"item\":\"UserLists_item__1nIiP\",\"nothing\":\"UserLists_nothing__1VIDq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"WorkingData_block__2soI0\",\"btn\":\"WorkingData_btn__1R8YB\",\"wrapper\":\"WorkingData_wrapper__1UVk9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"li\":\"User_li__2SjZi\",\"element\":\"User_element__3Kxbc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"RechartGraphics_block__3rh8G\",\"el\":\"RechartGraphics_el__mQtNK\",\"head\":\"RechartGraphics_head__aQ6Hv\"};"],"sourceRoot":""}